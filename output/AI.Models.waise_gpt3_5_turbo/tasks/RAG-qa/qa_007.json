{
  "id": "qa_007",
  "prompt": "How do I configure group synchronization between XWiki and my OpenID Connect provider?\nI'm using an OpenID Connect provider that supports group claims, and I want to synchronize these groups with XWiki groups. What's the process for setting this up?",
  "expected_answer": "To configure group synchronization between XWiki and your OpenID Connect provider 1. Locate the `xwiki.properties` file in your XWiki installation directory.\n2. Open the file with a text editor.\n3. Configure the group synchronization by setting the `oidc.groups.claim` property to the name of the claim used by your OpenID Connect provider to send group information. For example:\n```java\n#-# The name of the claim used to get the list of groups the user belong to.\n# oidc.groups.claim=groups\n```\nReplace `groups` with the actual claim name provided by your OpenID Connect provider.\n1. If your OpenID Connect provider sends group memberships as a single value attribute delimited by a specific character (e.g., a comma), configure the `oidc.groups.separator` property with the appropriate character:\n```java\n#-# If the identity provider returns group memberships as a single value attribute delimited with a char, for example:\n# oidc.groups.separator=,\n```\nReplace the comma with the actual separator used by your provider.\n1. If you want to map the synchronized groups to specific XWiki groups, configure the `oidc.groups.mapping` property with the appropriate mappings:\n```java\n# oidc.groups.mapping=XWiki.\"MyXWikiGroup\"=group1\n# oidc.groups.mapping=XWiki.\"MyXWikiGroup2\"=group2\n```\nReplace `MyXWikiGroup` and `MyXWikiGroup2` with the names of the XWiki groups you want to map, and `group1` and `group2` with the actual group names provided by your OpenID Connect provider.\n1. Save the `xwiki.properties` file and restart your XWiki instance for the changes to take effect.",
  "ai_answer": "https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/ \nhttps://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Authentication/ \n\n\nTo configure group synchronization between XWiki and your OpenID Connect provider that supports group claims, you can follow these steps:\n\n1. Define a mapping between the XWiki groups and the provider groups using the `oidc.groups.mapping` property.\n2. Implement custom group synchronization in a listener. You can find more information on how to implement this in the [Listeners section](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#HListeners).\n3. Ensure that you have the necessary dependencies for the OpenID Connect Authenticator Extension installed. You can refer to the [Dependencies section](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#HDependencies) for more details.\n\nBy following these steps, you should be able to synchronize groups between XWiki and your OpenID Connect provider effectively.",
  "sources": [
    {
      "collection_id": "Eval",
      "document_id": "extensions:Extension.OpenID Connect.OpenID Connect Authenticator.WebHome",
      "url": "https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/",
      "content": "\"expect to receive the list of group names (without the `wiki:XWiki.` prefix) in which the user should be placed (groups are automatically created when they don&#x27;t exist). You can also define a mapping between the XWiki groups and the provider groups using oidc.groups.mapping property.\\n\\nIt&#x27;s also possible to implement your own custom group synchronization in a listener. See [Listeners section](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#HListeners).\\n\\n# Customization\\n\\n## Templates\\n\\nThe authenticator uses a template to ask the user for the target provider when it&#x27;s not provided in the configuration. This template can be overwritten through the standard [template system](https://extensions.xwiki.org/xwiki/bin/view/Extension/Template%20Module).\\n\\nThe name of the template is oidc/client/provider.vm.\\n\\n## Listeners\\n\\nIt&#x27;s possible to implement an event [listener](https://extensions.xwiki.org/xwiki/bin/view/Extension/\"",
      "similarity_score": 0.897187352180481,
      "vector": null
    },
    {
      "collection_id": "Eval",
      "document_id": "extensions:Extension.OpenID Connect.OpenID Connect Authenticator.WebHome",
      "url": "https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/",
      "content": "\"xwiki/bin/download/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/WebHome/oidc_client_provider.png?rev=1.1)\\n\\nRelease notes can be found on [OpenID Connect project page](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/#HReleaseNotes).\\n\\n# Main limitations\\n\\n* [Automatically authenticate user when coming back](https://jira.xwiki.org/browse/OIDC-16)\\n\\n# Configuration\\n\\n## Configuration Guides for specific systems\\n\\n### Lemon LDAP / Open PAAS\\n\\nA [configuration guide](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/ConfigurationLemonLDAP/) is available to connect XWiki to LemonLDAP / OpenPAAS using the OpenIDC XWiki client.\\n\\n### OpenID Authentication with Keycloak\\n\\nA [configuration example for Keycloak](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/OpenID%20Authentication%20with%20Keycloak/) is available.\\n\\n### Univention Corporate Server\\n\\nA [config\"",
      "similarity_score": 0.8479222655296326,
      "vector": null
    },
    {
      "collection_id": "Eval",
      "document_id": "extensions:Extension.OpenID Connect.OpenID Connect Authenticator.WebHome",
      "url": "https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/",
      "content": "\"Wiki.\\n\\n  \\nOnce you installed the extension you will need to indicate you want to use it as authenticator with the property xwiki.authentication.authclass in xwiki.cfg file. See [Configuration section](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#HConfiguration) for more details.\\n\\n# Dependencies\\n\\nDependencies for this extension (org.xwiki.contrib.oidc:oidc-authenticator 2.8.6):\\n\\n* org.xwiki.platform:xwiki-platform-oldcore 14.10\\n* com.nimbusds:oauth2-oidc-sdk 11.10.1\\n* [org.xwiki.contrib.oidc:oidc-provider](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Provider/) 2.8.6\\n* org.xwiki.contrib.oidc:oidc-authenticator-configuration 2.8.6\\n* org.xwiki.contrib.oidc:oidc-authenticator-user 2.8.6\\n\\n\\n\"",
      "similarity_score": 0.8464587926864624,
      "vector": null
    },
    {
      "collection_id": "Eval",
      "document_id": "xwiki:Documentation.AdminGuide.Authentication.WebHome",
      "url": "https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Authentication/",
      "content": "\" set in xwiki.cfg configuration file (if the property does not already exist, create it):\\n\\nxwiki.authentication.createuser=empty## OpenId Connect Authentication\\n\\nSee the [OpenId Connect Authenticator Extension](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/).\\n\\n## Active Directory\\n\\nIf you&#x27;re looking to connect XWiki to an Active Directory server, you currently have 2 options:\\n\\n* Using the manual and generic approach using the [LDAP Authenticator extension](https://extensions.xwiki.org/xwiki/bin/view/Extension/LDAP/Authenticator/)\\n* Using the dedicated [Active Directory Application](https://store.xwiki.com/xwiki/bin/view/Extension/ActiveDirectoryApplication) which is a paying application dedicated to simplifying the integration of Active Directory with XWiki. The Active Directory Application allows you to easily connect your Active Directory server to XWiki using a **visual editor**, update\u00a0**advanced configuration** settings\"",
      "similarity_score": 0.8416128158569336,
      "vector": null
    },
    {
      "collection_id": "Eval",
      "document_id": "extensions:Extension.OpenID Connect.OpenID Connect Authenticator.WebHome",
      "url": "https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/",
      "content": "\"rver\\n\\nA [configuration example for Univention Corporate Server (UCS)](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/OpenID%20Authentication%20with%20UCS/) is available.\\n\\n## Configuration files\\n\\n### xwiki.cfg\\n\\n#-# The authentication management class.  \\nxwiki.authentication.authclass=org.xwiki.contrib.oidc.auth.OIDCAuthServiceImpl### xwiki.properties\\n\\n#-# The base URL of the OpenId Connect Provider to use as starting point to discover the provider configuration.  \\n#-# See following endpoints properties if the provider is does not support OpenID Connect discovery.  \\n#-# If not indicated and not custom endpoint is provided, it will be asked to the user.  \\n# oidc.provider=https://xwikiorg-node1.xwikisas.com/xwiki/oidc  \\n  \\n#-# The generic OpenId Connect endpoints to use to communicate with the provider.  \\n#-# It&#x27;s generally not needed when providing the provider discovery endpoint (which is supposed to provide those enpoints).  \"",
      "similarity_score": 0.8385508060455322,
      "vector": null
    }
  ]
}