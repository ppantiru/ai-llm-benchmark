{
  "id": "qa_027",
  "prompt": "Comment configurer la synchronisation de groupe entre XWiki et mon fournisseur OpenID Connect?\nJ'utilise un fournisseur OpenID Connect qui prend en charge les revendications de groupe, et je souhaite synchroniser ces groupes avec les groupes XWiki. Quel est le processus pour le configurer?",
  "expected_answer": "Pour configurer la synchronisation de groupe entre XWiki et votre fournisseur OpenID Connect:\n1. Localisez le fichier `xwiki.properties` dans le r\u00e9pertoire d'installation de XWiki.\n2. Ouvrez le fichier avec un \u00e9diteur de texte.\n3. Configurez la synchronisation de groupe en d\u00e9finissant la propri\u00e9t\u00e9 `oidc.groups.claim` sur le nom de la revendication utilis\u00e9e par votre fournisseur OpenID Connect pour envoyer des informations de groupe. Par exemple:\n```java\n#-# Le nom de la revendication utilis\u00e9e pour obtenir la liste des groupes auxquels appartient l'utilisateur.\n# oidc.groups.claim=groupes\n```\nRemplacez `groupes` par le nom de revendication r\u00e9el fourni par votre fournisseur OpenID Connect.\n1. Si votre fournisseur OpenID Connect envoie des adh\u00e9sions de groupe en tant qu'attribut de valeur unique d\u00e9limit\u00e9 par un caract\u00e8re sp\u00e9cifique (par exemple, une virgule), configurez la propri\u00e9t\u00e9 `oidc.groups.separator` avec le caract\u00e8re appropri\u00e9:\n```java\n#-# Si le fournisseur d'identit\u00e9 renvoie des adh\u00e9sions de groupe en tant qu'attribut de valeur unique d\u00e9limit\u00e9 avec un caract\u00e8re, par exemple:\n# oidc.groups.separator=,\n```\nRemplacez la virgule par le s\u00e9parateur r\u00e9el utilis\u00e9 par votre fournisseur.\n1. Si vous souhaitez mapper les groupes synchronis\u00e9s \u00e0 des groupes XWiki sp\u00e9cifiques, configurez la propri\u00e9t\u00e9 `oidc.groups.mapping` avec les mappages appropri\u00e9s:\n```java\n# oidc.groups.mapping=XWiki.\"MyXWikiGroup\"=group1\n# oidc.groups.mapping=XWiki.\"MyXWikiGroup2\"=group2\n```\nRemplacez `MyXWikiGroup` et `MyXWikiGroup2` par les noms des groupes XWiki que vous souhaitez mapper, et `group1` et `group2` par les noms de groupe r\u00e9els fournis par votre fournisseur OpenID Connect.\n1. Enregistrez le fichier `xwiki.properties` et red\u00e9marrez votre instance XWiki pour que les modifications prennent effet.",
  "ai_answer": "https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/ \n\n\n To configure group synchronization between XWiki and your OpenID Connect provider, you can follow these steps:\n\n1. **Define a mapping between the XWiki groups and the provider groups**: You can use the `oidc.groups.mapping` property to define a mapping between the XWiki groups and the provider groups. This property should contain a comma-separated list of mappings, where each mapping is in the format `provider_group:xwiki_group`. For example:\n\n   ```\n   oidc.groups.mapping=group1:Group1,group2:Group2\n   ```\n\n   This will map the `group1` provider group to the `Group1` XWiki group, and the `group2` provider group to the `Group2` XWiki group.\n\n2. **Enable automatic synchronization**: XWiki can automatically synchronize the groups with your OpenID Connect provider. To enable this feature, you need to set the `xwiki.authentication.authclass` property in the `xwiki.cfg` configuration file to `org.xwiki.contrib.oidc.auth.OIDCAuthServiceImpl`.\n\n3. **Configure the OpenID Connect provider endpoint**: You need to specify the base URL of your OpenID Connect provider in the `xwiki.properties` configuration file. If your provider supports OpenID Connect discovery, you can set the `oidc.provider` property to the provider's discovery endpoint. For example:\n\n   ```\n   oidc.provider=https://my-provider.com/.well-known/openid-configuration\n   ```\n\n   If your provider does not support OpenID Connect discovery, you can set the `oidc.*` properties manually to specify the provider's endpoints. For example:\n\n   ```\n   oidc.authorization_endpoint=https://my-provider.com/auth\n   oidc.token_endpoint=https://my-provider.com/token\n   oidc.userinfo_endpoint=https://my-provider.com/userinfo\n   ```\n\nYou can find more information about these configuration options in the [OpenID Connect Authenticator documentation](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect%20Authenticator/).\n\nIt's also worth noting that XWiki provides specific configuration examples for popular OpenID Connect providers, such as Keycloak and Univention Corporate Server. You can find these examples in the [OpenID Connect Authenticator documentation](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect%20Authenticator/) as well.",
  "sources": [
    {
      "collection_id": "Eval",
      "document_id": "extensions:Extension.OpenID Connect.OpenID Connect Authenticator.WebHome",
      "url": "https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/",
      "content": "\"expect to receive the list of group names (without the `wiki:XWiki.` prefix) in which the user should be placed (groups are automatically created when they don&#x27;t exist). You can also define a mapping between the XWiki groups and the provider groups using oidc.groups.mapping property.\\n\\nIt&#x27;s also possible to implement your own custom group synchronization in a listener. See [Listeners section](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#HListeners).\\n\\n# Customization\\n\\n## Templates\\n\\nThe authenticator uses a template to ask the user for the target provider when it&#x27;s not provided in the configuration. This template can be overwritten through the standard [template system](https://extensions.xwiki.org/xwiki/bin/view/Extension/Template%20Module).\\n\\nThe name of the template is oidc/client/provider.vm.\\n\\n## Listeners\\n\\nIt&#x27;s possible to implement an event [listener](https://extensions.xwiki.org/xwiki/bin/view/Extension/\"",
      "similarity_score": 0.8155698776245117,
      "vector": null
    },
    {
      "collection_id": "Eval",
      "document_id": "extensions:Extension.OpenID Connect.OpenID Connect Authenticator.WebHome",
      "url": "https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/",
      "content": "\" synchronization](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#HGroupsynchronization)\\n* [Customization](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#HCustomization)\\n\\t+ [Templates](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#HTemplates)\\n\\t+ [Listeners](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#HListeners)\\n* [Troubleshooting](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#HTroubleshooting)\\n\\t+ [Enable DEBUG log](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#HEnableDEBUGlog)\\n\\t\\t- [With the Logging Admin UI](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#HWiththeLoggingAdminUI)\\n\\t\\t-\"",
      "similarity_score": 0.7919780015945435,
      "vector": null
    },
    {
      "collection_id": "Eval",
      "document_id": "extensions:Extension.OpenID Connect.OpenID Connect Authenticator.WebHome",
      "url": "https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/",
      "content": "\"xwiki/bin/download/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/WebHome/oidc_client_provider.png?rev=1.1)\\n\\nRelease notes can be found on [OpenID Connect project page](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/#HReleaseNotes).\\n\\n# Main limitations\\n\\n* [Automatically authenticate user when coming back](https://jira.xwiki.org/browse/OIDC-16)\\n\\n# Configuration\\n\\n## Configuration Guides for specific systems\\n\\n### Lemon LDAP / Open PAAS\\n\\nA [configuration guide](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/ConfigurationLemonLDAP/) is available to connect XWiki to LemonLDAP / OpenPAAS using the OpenIDC XWiki client.\\n\\n### OpenID Authentication with Keycloak\\n\\nA [configuration example for Keycloak](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/OpenID%20Authentication%20with%20Keycloak/) is available.\\n\\n### Univention Corporate Server\\n\\nA [config\"",
      "similarity_score": 0.7757521867752075,
      "vector": null
    },
    {
      "collection_id": "Eval",
      "document_id": "extensions:Extension.OpenID Connect.OpenID Connect Authenticator.WebHome",
      "url": "https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/",
      "content": "\"rver\\n\\nA [configuration example for Univention Corporate Server (UCS)](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/OpenID%20Authentication%20with%20UCS/) is available.\\n\\n## Configuration files\\n\\n### xwiki.cfg\\n\\n#-# The authentication management class.  \\nxwiki.authentication.authclass=org.xwiki.contrib.oidc.auth.OIDCAuthServiceImpl### xwiki.properties\\n\\n#-# The base URL of the OpenId Connect Provider to use as starting point to discover the provider configuration.  \\n#-# See following endpoints properties if the provider is does not support OpenID Connect discovery.  \\n#-# If not indicated and not custom endpoint is provided, it will be asked to the user.  \\n# oidc.provider=https://xwikiorg-node1.xwikisas.com/xwiki/oidc  \\n  \\n#-# The generic OpenId Connect endpoints to use to communicate with the provider.  \\n#-# It&#x27;s generally not needed when providing the provider discovery endpoint (which is supposed to provide those enpoints).  \"",
      "similarity_score": 0.7683695554733276,
      "vector": null
    },
    {
      "collection_id": "Eval",
      "document_id": "extensions:Extension.OpenID Connect.OpenID Connect Authenticator.WebHome",
      "url": "https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/",
      "content": "\"ingAdminUI)\\n\\t\\t- [With the Logback configuration file](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#HWiththeLogbackconfigurationfile)\\n* [Short URLs](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#HShortURLs)\\n* [Prerequisites &amp; Installation Instructions](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#HPrerequisites26InstallationInstructions)\\n* [Dependencies](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Authenticator/#HDependencies)\\n# Description\\n\\nAllow an XWiki instance to authenticate on an OpenId Connect provider. It also performs automatic synchronization.\\n\\nSee also [OpenID Connect Provider](https://extensions.xwiki.org/xwiki/bin/view/Extension/OpenID%20Connect/OpenID%20Connect%20Provider/).\\n\\n![oidc_client_provider.png](https://extensions.xwiki.org/xwiki/bin/downl\"",
      "similarity_score": 0.7670766115188599,
      "vector": null
    }
  ]
}