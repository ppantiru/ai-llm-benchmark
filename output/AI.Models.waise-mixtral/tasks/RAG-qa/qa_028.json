{
  "id": "qa_028",
  "prompt": "Comment puis-je m'assurer que seuls les fichiers image ou PDF d'une taille maximale de 10 Mo peuvent \u00eatre t\u00e9l\u00e9charg\u00e9s en tant que pi\u00e8ces jointes sur l'ensemble du wiki?",
  "expected_answer": "Pour vous assurer que seuls les fichiers image ou PDF d'une taille maximale de 10 Mo peuvent \u00eatre t\u00e9l\u00e9charg\u00e9s en tant que pi\u00e8ces jointes sur l'ensemble du wiki, suivez ces \u00e9tapes:\n\n**\u00c9tape 1: Configurer les types MIME autoris\u00e9s**\n\nModifiez le fichier de configuration `xwiki.properties` dans votre installation et ajoutez ou mettez \u00e0 jour la ligne suivante pour configurer les restrictions de type MIME par d\u00e9faut au niveau de la ferme:\n```\nattachment.upload.allowList=image/*,application/pdf\n```\nCela permettra uniquement les fichiers image (avec n'importe quel sous-type, par exemple `image/jpeg`, `image/png`, etc.) et les fichiers PDF \u00e0 t\u00e9l\u00e9charger, et bloquera tous les autres types MIME.\n\n**\u00c9tape 2: Configurer la taille maximale de la pi\u00e8ce jointe**\n\nPour d\u00e9finir la taille maximale de la pi\u00e8ce jointe sur 10 Mo, suivez ces \u00e9tapes:\n\n1. Allez sur `http://<votrewiki>/xwiki/bin/edit/XWiki/XWikiPreferences?editor=object`\n2. Cliquez sur la ligne qui dit XWikiPreferences 0 (juste en dessous de la ligne qui dit Objects of type XWiki.XWikiPreferences (1))\n3. Faites d\u00e9filer jusqu'au champ qui dit Maximum Upload Size et changez le nombre en `10485760` (10 Mo en octets)\n4. Faites d\u00e9filer jusqu'en bas et cliquez sur \"Enregistrer\"\n5. R\u00e9p\u00e9tez pour chaque (sous-)wiki pour lequel vous devez d\u00e9finir cette configuration!",
  "ai_answer": "https://extensions.xwiki.org/xwiki/bin/view/Extension/LLM%20Application/Index%20for%20the%20LLM%20Application/ \nhttps://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/ \nhttps://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Attachments \nhttps://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/Attachments \nhttps://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/ \n\n\n To ensure that only image or PDF files of a maximum size of 10 MB can be uploaded as attachments on the entire wiki, you will need to make several changes in the XWiki configuration.\n\nFirst, you need to change the maximum size limit for attachments. This is controlled by the `XWikiPreferences` document, which can be configured at the wiki or farm level. You'll need to set the `Maximum Upload Size` field to 10,485,760 bytes (10 MB) as explained in this source:\n\n```markdown\nhttps://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/#HAttachments\n```\n\nNext, you will need to restrict the types of files that can be uploaded as attachments by configuring the `fileAttachment` macro. You should only allow image and PDF file extensions (case-insensitive). To do this, add a script to your wiki's `xwiki.cfg` file with the following content:\n\n```markdown\nhttps://www.xwiki.org/xwiki/bin/view/Documentation/DevGuide/Configuration/#HThe_xwikicfg_file\n```\n\nAdd the following lines to your `xwiki.cfg` file (create it if it doesn't exist):\n\n```properties\n# Configuration for attachment filtering\nattachment.filter.rule=.*\\.(jpg|jpeg|png|gif|pdf)$\nattachment.filter.type=include\n```\n\nThis configuration will restrict uploads to only image and PDF file formats. The size limit is already enforced by the `XWikiPreferences` configuration set in step 1.\n\nThese changes should be made by a XWiki administrator or someone with sufficient permissions to modify the wiki's configuration files. If you are not the XWiki administrator, please provide these instructions to them for implementation.",
  "sources": [
    {
      "collection_id": "Eval",
      "document_id": "extensions:Extension.LLM Application.Index for the LLM Application.WebHome",
      "url": "https://extensions.xwiki.org/xwiki/bin/view/Extension/LLM%20Application/Index%20for%20the%20LLM%20Application/",
      "content": "\"w of a single document &quot;WAISE Intro&quot;](https://extensions.xwiki.org/xwiki/bin/download/Extension/LLM%20Application/Index%20for%20the%20LLM%20Application/WebHome/1715154822895-528.png?width=650&amp;height=478&amp;rev=1.1)\\n\\nYou can configure the following properties of documents:\\n\\n* **Title**: The title of the document\\n* **Language**: The language of the document (currently not used)\\n* **URL**: The URL of the document, used to display a link to the original resource when the document is used as context in a chat\\n* **Mime Type**: The mime type of the document, currently not used, could be used in the future to use a chunking method that is specific to the mime type\\n* **Content**: The content of the document that is indexed\\n\\nAdditionally, you can attach files to a document and they will also be indexed if the content can be extracted by [Apache Tika](https://tika.apache.org/).\\n\\n## REST API\\n\\nThe REST API provides a convenient way to manage both collections and documents inside coll\"",
      "similarity_score": 0.6660902500152588,
      "vector": null
    },
    {
      "collection_id": "Eval",
      "document_id": "xwiki:Documentation.AdminGuide.Configuration.WebHome",
      "url": "https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Configuration/",
      "content": "\"-j/)**, a XSLT processor for transforming XML documents into HTML, text, or other XML document types. This field needs to be the actual content of the customized xhtml2fo.xsl. Note that you can also use velocity in this field (useful to get the content of an attached .xsl file, which comes in very handy when you need to fill in a big file, since the limit of textarea properties is of 60 000 characters)\\n* fopxsl: contains the FOP to PDF/RTF XSL overriding the default one. It is processed by **[Apache FOP](http://xmlgraphics.apache.org/fop/)**.\\n\\nThe name of the class must be XWiki.PDFClass.\\n\\nThe good thing about fop/xsl-fo is that the xsl-fo document is independent of the final result. So we can export the wiki documents into many formats.\\n\\nThen create a new page (say XWiki.PDFTemplate) and add the XWiki.PDFClass object to it.\\n\\nLast use that page when calling the PDF/RTF export using the pdftemplate parameter as in *http://yourserver/xwiki/bin/export/Space/Page?format=pdf&amp;language=en\"",
      "similarity_score": 0.6513979434967041,
      "vector": null
    },
    {
      "collection_id": "Eval",
      "document_id": "xwiki:Documentation.AdminGuide.Attachments",
      "url": "https://www.xwiki.org/xwiki/bin/view/Documentation/AdminGuide/Attachments",
      "content": "\"sions.xwiki.org/xwiki/bin/view/Extension/XML-RPC%20Integration) or [Rest](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/XWikiRESTfulAPI).  \\nAs an administrator you can set limits on the maximum size of an attachment and where the attachments will be stored.\\n\\n# Size Limit\\n\\nThe maximum size of an attachment is limited by a configuration parameter in the *XWikiPreferences* document. It is set to 100GB by default (32MB for XWiki &lt; 10.9RC1).  \\nTo change it follow these steps:\\n\\n1. Go to *http://&lt;yourwiki&gt;/xwiki/bin/edit/XWiki/XWikiPreferences?editor=object*\\n2. Click on the line that says XWikiPreferences 0 (right below the line that says Objects of type XWiki.XWikiPreferences (1))\\n3. Scroll down to the field that says Maximum Upload Size and change the number to whatever size you want (it is expressed in bytes)\\n4. Scroll to the bottom and click &quot;Save&quot;\\n5. Repeat for each (sub)wiki for which you need to increase the size, since currrently this configu\"",
      "similarity_score": 0.6496410369873047,
      "vector": null
    },
    {
      "collection_id": "Eval",
      "document_id": "xwiki:Documentation.UserGuide.Features.Attachments",
      "url": "https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/Attachments",
      "content": "\"t;img src=&quot;http://some\\\\_remote\\\\_server/path/to/image&quot;/&gt;\\n* **XWiki Syntax 2.0**: image:http://some\\\\_remote\\\\_server/path/to/image\\n\\nSee the [XWiki Syntax Guide](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/XWikiSyntax/) for more details.\\n\\n# Backlinks indexation\\n\\nXWiki 14.2+ Page including attachments (or images) from other pages are now listed in their [backlinks](https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/Navigate/#HBacklinks).\\n\\n# Upload summary\\n\\nXWiki 16.3.0+\u00a0When upload summaries are enabled by the administrator, you can include descriptions to your uploads done through the Attachment tab.\\n\\n![upload-summary.png](https://www.xwiki.org/xwiki/bin/download/Documentation/UserGuide/Features/Attachments/upload-summary.png?rev=1.1)\\n\\nThese upload summaries will then be displayed for each upload in the revision history of the attachment.  \\nNote that if you upload multiple files at the same time with, *e.g.*, a drag and drop, they w\"",
      "similarity_score": 0.6477909088134766,
      "vector": null
    },
    {
      "collection_id": "Eval",
      "document_id": "xwiki:Documentation.UserGuide.Features.WebHome",
      "url": "https://www.xwiki.org/xwiki/bin/view/Documentation/UserGuide/Features/",
      "content": "\"yle](https://extensions.xwiki.org/xwiki/bin/view/Extension/Image/Style/UI/)  \\nProvide the UI to access the image styles on the Administration.\\n\\n![page_white_acrobat](https://www.xwiki.org/xwiki/resources/icons/silk/page_white_acrobat.png?cache-version=1711538036000)\\n\\n[PDF Export](https://extensions.xwiki.org/xwiki/bin/view/Extension/PDF%20Export%20Application/)  \\nAdds support for exporting wiki pages to PDF on the client-side using the web browser.\\n\\n![x-office-document.png](https://extensions.xwiki.org/xwiki/bin/download/Extension/Office%20Importer%20Application/x-office-document.png?rev=1.3)\\n\\n[Office Importer](https://extensions.xwiki.org/xwiki/bin/view/Extension/Office%20Importer%20Application)  \\nImport Office documents, spreadsheets and presentations into wiki pages (most major office suite formats are supported)\\n\\n![cog](https://www.xwiki.org/xwiki/resources/icons/silk/cog.png?cache-version=1711538036000)\\n\\n[Font Awesome Icon Theme](https://extensions.xwiki.org/xwiki/bin/view/Extensi\"",
      "similarity_score": 0.6425123810768127,
      "vector": null
    }
  ]
}